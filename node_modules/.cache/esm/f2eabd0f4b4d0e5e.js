let PORT,NODE_ENV,MONGO_URI,studentRouter,express,mongoose;_4b4‍.w("./config",[["PORT",["PORT"],function(v){PORT=v}],["NODE_ENV",["NODE_ENV"],function(v){NODE_ENV=v}],["MONGO_URI",["MONGO_URI"],function(v){MONGO_URI=v}]]);_4b4‍.w("./routes/routes",[["studentRouter",["studentRouter"],function(v){studentRouter=v}]]);_4b4‍.w("events",[["default",["express"],function(v){express=v}]]);_4b4‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]); // added




(async () => {
    try {
        await mongoose.connect(MONGO_URI, {useNewURLParser:true});
        console.log('MongoDB Connected');
        
        const app = express();
        app.disable('x-powered-by'); //ap Hides what server is used from user.
        app.use(express.urlencoded({extended:true})); // a  uses the inbuilt express body parser
        app.use(express.json());//ap

const appRouter = express.Router();
app.use('/app',appRouter);
appRouter.use('/student',studentRouter);



    } catch (err){
        _4b4‍.g.console.log(err)
    }
})();

// appRouter.use('staff', staffRouter);
// appRouter.use('admin', adminRouter);



app.listen(PORT,() =>{
    console.log(`Listening on port ${PORT}`)
})

// app.use(cors())
// const dotenv = require('dotenv');
// const routerUrls = require('./routes/routes');
// const cors = require('cors');
// const path = require('path');
// require('dotenv').config({ path: path.resolve(__dirname, './.env') });

// dotenv.config()

// mongoose.connect(process.env.DATABASE_CONNECT,()=>{
//     console.log("Database connected")
// });